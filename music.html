<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Upload & Playback</title>
    <link rel= "stylesheet" href= 'music.css'>
    <style>
    </style>
</head>
<body>
    <header class="nav-header">
      <!-- Logo Placeholder (Left Side) -->
      <div class="logo">
        <img src="thumbnails/AMN-LOGO-main.png" alt="Allan Mabele Logo" width="150"> <!-- Replace with actual logo -->
      </div>
    
      <!-- Navigation Links (Right Side) -->
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="services.html">Services</a>
        <a href="learnforex.html">Learn Forex</a>
        <a href="contact.html">Contact</a>
        <a href="#music.html">My Music</a>
      </nav>
    </header>

    <div class="artist-card">
        <!-- Placeholder for artist image - replace with actual image path -->
        <img src="thumbnails/dp.jpg" alt="Allan Mabele Nambafu" class="artist-image">
        
        <h1>Allan Mabele Nambafu</h1>
        <p class="tagline">Anointed Gospel Artist & Songwriter from Kenya</p>
        
        <div class="bio">
            <p>Allan Mabele Nambafu, a gifted and anointed artist from Kenya, is a rising voice in the realm of gospel music, blending heartfelt songwriting with a divine calling to glorify God through his craft. Blessed with multifaceted talents, Allan shines as a passionate songwriter and emerging musician, dedicated to creating worship and praise songs that stir the soul and uplift the spirit.</p>
            
            <p>His music resonates with authenticity, reflecting a deep connection to faith and a desire to inspire others toward spiritual renewal. Whether through intimate worship melodies or vibrant praise anthems, Allan's work carries a message of hope, gratitude, and reverence.</p>
            
            <p>As he steps into the music scene, his dedication to ministry and artistic excellence promises to touch hearts across generations.</p>
        </div>
        
        <div class="contact">
            <h2>Connect & Collaborate</h2>
            <ul class="contact-list">
                <li>Email: <a href="mailto:allymabz@gmail.com">allymabz@gmail.com</a></li>
                <li>Phone/WhatsApp: +254 769 174049 or +254 701 540201</li>
            </ul>
        </div>
        
        <p class="cta">Explore his uplifting music by downloading or streaming his tracks below!</p>
        
        <div style="text-align: center;">
            <a href="#" class="music-button">Listen to Music</a>
        </div>
        
        <p style="text-align: center; margin-top: 30px; font-style: italic;">Join his journey as he uses his God-given talents to spread light and praise through the power of song!</p>
    </div>
 <!-- HTML -->
        
        <!-- New Music Release Section -->
        <div class="new-release">
            <h2>New Music Release</h2>
            <div class="release-links">
                <a href="https://mdundo.com/song/4706497" class="music-button" target="_blank">Download Now</a>
                <a href="https://www.youtube.com/@allan_mabele/videos" class="music-button youtube" target="_blank">Watch on YouTube</a>
            </div>
        </div>

        <!-- Existing Music Section -->
        <div class="existing-tracks">
            <h2>Available Tracks</h2>
            <div class="tracks-grid">
                <!-- 20 placeholder tracks -->
                <div class="track-item">
                    <span class="track-title">UNAWEZA-ALLAN MABELE ft ADAH ALLAN</span>
                    <div class="track-links">
                        <a href="https://mdundo.com/song/4706497" class="download-link" target="_blank">Mdundo</a>
                        <a href="https://www.youtube.com/@allan_mabele/videos" class="youtube-link" target="_blank">YouTube</a>
                    </div>
                </div>
                <!-- Repeat similar structure for 19 more tracks -->
            </div>
        </div>

        <!-- Rest of existing content -->
    </div>

    <!-- Footer remains same -->

<script>
    // Improved JavaScript with server simulation
const tracksGrid = document.querySelector('.tracks-grid');
const mockServer = {
    // Modified to include title check
    getValidTracks: () => {
        return JSON.parse(localStorage.getItem('musicLibrary')) || []
            .filter(track => track.title && track.title !== '');
    }
};

// Generate track items only for valid tracks
function generateTrackItems() {
    tracksGrid.innerHTML = ''; // Clear existing content
    
    const validTracks = mockServer.getValidTracks();
    
    if (validTracks.length === 0) {
        tracksGrid.innerHTML = '<div class="empty-state"><p>No tracks available yet. Be the first to upload!</p></div>';
        return;
    }

    validTracks.forEach(track => {
        const trackItem = document.createElement('div');
        trackItem.className = 'track-item';
        trackItem.innerHTML = `
            <span class="track-title">${track.title || 'Untitled Track'}</span>
            <div class="track-links">
                ${track.mdundoLink ? `<a href="${track.mdundoLink}" class="download-link" target="_blank">Mdundo</a>` : ''}
                ${track.youtubeLink ? `<a href="${track.youtubeLink}" class="youtube-link" target="_blank">YouTube</a>` : ''}
            </div>
        `;
        tracksGrid.appendChild(trackItem);
    });
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', function () {
    // Generate valid tracks on load
    generateTrackItems();

    // Footer link handling (moved outside loop)
    const footerLinks = document.querySelectorAll('footer .footer-nav a, footer .social-links a');
    
    footerLinks.forEach(link => {
        link.addEventListener('click', function (e) {
            const targetId = this.getAttribute('href');
            if (targetId.startsWith('#')) {
                e.preventDefault();
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });
    });
});

// Modified handleFiles function to include titles
async function handleFiles(files) {
    for (const file of files) {
        const track = {
            id: Date.now().toString(),
            title: file.name.replace(/\.[^/.]+$/, ""), // Remove file extension
            mdundoLink: '', // Initialize empty links
            youtubeLink: '',
            url: URL.createObjectURL(file),
            size: (file.size / 1024 / 1024).toFixed(2) + 'MB',
            uploaded: new Date().toLocaleDateString()
        };

        mockServer.saveTrack(track);
        generateTrackItems(); // Regenerate track list after upload
    }
}
</script>
    <footer>
        <div class="footer-grid">
        <div class="footer-col">
            <h3>Quick Links</h3>
            <nav class="footer-nav">
                <a href="index.html">Home</a>
                <a href="#services">Services</a>
                <a href="#learnforex.html">Learn Forex</a>
                <a href="#contact">Contact</a>
            </nav>
        </div>

        <div class="footer-col">
            <h3>Follow Me</h3>
            <div class="social-links">
                <a href="https://x.com/allan_mabele" target="_blank">X (Twitter)</a>
                <a href="https://web.facebook.com/allan.mabel.7" target="_blank">Facebook</a>
                <a href="https://www.linkedin.com/in/allan-mabele-nambafu-79713484/" target="_blank">LinkedIn</a>
                <a href="https://github.com/AllanMabele" target="_blank">GitHub</a>
            </div>
        </div>

        <div class="footer-col">
            <h3>Contact</h3>
            <div class="contact-details">
                <p>Email: <a href="mailto:your@email.com">allymabz@gmail.com</a></p>
                <p>Phone: <a href="tel:+1234567890">+254 769 174 049 | +254 701 540 201</a></p>
            </div>
        </div>
    </div>

    <div class="copyright">
        <p class="date-name">Â© 2024 Allan Mabele Nambafu</p>
    </div>
      </footer>

</body>
</html>
