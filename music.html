<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Upload & Playback</title>
    <link rel= "stylesheet" href= 'music.css'>
    <style>
    </style>
</head>
<body>
    <header class="nav-header">
      <!-- Logo Placeholder (Left Side) -->
      <div class="logo">
        <img src="thumbnails/AMN-LOGO-main.png" alt="Allan Mabele Logo" width="150"> <!-- Replace with actual logo -->
      </div>
    
      <!-- Navigation Links (Right Side) -->
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="services.html">Services</a>
        <a href="learnforex.html">Learn Forex</a>
        <a href="contact.html">Contact</a>
        <a href="#music.html">My Music</a>
      </nav>
    </header>

    <div class="artist-card">
        <!-- Placeholder for artist image - replace with actual image path -->
        <img src="thumbnails/dp.jpg" alt="Allan Mabele Nambafu" class="artist-image">
        
        <h1>Allan Mabele Nambafu</h1>
        <p class="tagline">Anointed Gospel Artist & Songwriter from Kenya</p>
        
        <div class="bio">
            <p>Allan Mabele Nambafu, a gifted and anointed artist from Kenya, is a rising voice in the realm of gospel music, blending heartfelt songwriting with a divine calling to glorify God through his craft. Blessed with multifaceted talents, Allan shines as a passionate songwriter and emerging musician, dedicated to creating worship and praise songs that stir the soul and uplift the spirit.</p>
            
            <p>His music resonates with authenticity, reflecting a deep connection to faith and a desire to inspire others toward spiritual renewal. Whether through intimate worship melodies or vibrant praise anthems, Allan's work carries a message of hope, gratitude, and reverence.</p>
            
            <p>As he steps into the music scene, his dedication to ministry and artistic excellence promises to touch hearts across generations.</p>
        </div>
        
        <div class="contact">
            <h2>Connect & Collaborate</h2>
            <ul class="contact-list">
                <li>Email: <a href="mailto:allymabz@gmail.com">allymabz@gmail.com</a></li>
                <li>Phone/WhatsApp: +254 769 174049 or +254 701 540201</li>
            </ul>
        </div>
        
        <p class="cta">Explore his uplifting music by downloading or streaming his tracks below!</p>
        
        <div style="text-align: center;">
            <a href="#" class="music-button">Listen to Music</a>
        </div>
        
        <p style="text-align: center; margin-top: 30px; font-style: italic;">Join his journey as he uses his God-given talents to spread light and praise through the power of song!</p>
    </div>
 
<div class="upload-container">
    <h2>Upload Music</h2>
    <input type="file" id="musicUpload" accept="audio/*" multiple>
    <p>Supported formats: MP3, WAV, OGG</p>
</div>

<div id="musicList">
    <h2>Uploaded Tracks</h2>
    <div id="tracksContainer"></div>
</div>

<script>
    const musicUpload = document.getElementById('musicUpload');
    const tracksContainer = document.getElementById('tracksContainer');
    let currentAudio = null;

    // Load stored music from localStorage on page load
    window.onload = function() {
        const storedMusic = JSON.parse(localStorage.getItem('uploadedMusic')) || [];
        storedMusic.forEach(fileData => {
            createMusicItem(fileData.name, fileData.url);
        });
    };

    musicUpload.addEventListener('change', function(e) {
        const files = e.target.files;
        
        for (const file of files) {
            if (!file.type.startsWith('audio/')) {
                alert('Please upload audio files only');
                continue;
            }

            const url = URL.createObjectURL(file);
            createMusicItem(file.name, url);

            // Store in localStorage
            const storedMusic = JSON.parse(localStorage.getItem('uploadedMusic')) || [];
            storedMusic.push({ name: file.name, url: url });
            localStorage.setItem('uploadedMusic', JSON.stringify(storedMusic));
        }
    });

    function createMusicItem(fileName, fileUrl) {
        const musicItem = document.createElement('div');
        musicItem.className = 'music-item';
        
        const audio = document.createElement('audio');
        audio.src = fileUrl;
        audio.style.display = 'none'; // Hide audio controls
        
        const playButton = document.createElement('button');
        playButton.textContent = 'Play';
        
        const downloadButton = document.createElement('a');
        downloadButton.href = fileUrl;
        downloadButton.download = fileName;
        downloadButton.className = 'download-btn';
        downloadButton.innerHTML = 'Download';

        const nameLabel = document.createElement('span');
        nameLabel.textContent = fileName;
        nameLabel.style.margin = '0 10px';
        nameLabel.style.flexGrow = '1';

        playButton.addEventListener('click', function() {
            if (currentAudio && currentAudio !== audio) {
                currentAudio.pause();
                currentAudio.parentElement.querySelector('button').textContent = 'Play';
            }

            if (audio.paused) {
                audio.play();
                playButton.textContent = 'Pause';
                currentAudio = audio;
            } else {
                audio.pause();
                playButton.textContent = 'Play';
                currentAudio = null;
            }
        });

        musicItem.appendChild(playButton);
        musicItem.appendChild(nameLabel);
        musicItem.appendChild(downloadButton);
        musicItem.appendChild(audio);
        tracksContainer.appendChild(musicItem);
    }
</script>
    <footer>
        <!-- Your footer content here -->
        <div class="footer-grid">
          <!-- Column 1: Navigation Links -->
          <div class="footer-col">
            <h3>Quick Links</h3>
            <nav class="footer-nav">
              <a href="index.html">Home</a>
              <a href="#services">Services</a>
              <a href="#learnforex.html">Learn Forex</a>
              <a href="#contact">Contact</a>
            </nav>
          </div>
      
          <!-- Column 2: Social Media -->
          <div class="footer-col">
            <h3>Follow Me</h3>
            <div class="social-links">
              <a href="https://x.com/allan_mabele" target="_blank">X (Twitter)</a>
              <a href="https://web.facebook.com/allan.mabel.7" target="_blank">Facebook</a>
              <a href="https://www.linkedin.com/in/allan-mabele-nambafu-79713484/" target="_blank">LinkedIn</a>
              <a href="https://github.com/AllanMabele" target="_blank">GitHub</a>
            </div>
          </div>
      
          <!-- Column 3: Contact Details -->
          <div class="footer-col">
            <h3>Contact</h3>
            <div class="contact-details">
              <p>Email: <a href="mailto:your@email.com">allymabz@gmail.com</a></p>
              <p>Phone: <a href="tel:+1234567890">+254 769 174 049 | +254 701 540 201</a></p>
            </div>
          </div>
        </div>
      
        <!-- Copyright (Full Width Below Grid) -->
        <div class="copyright">
          <p class="date-name">Â© 2024 Allan Mabele Nambafu</p>
        </div>
      </footer>

</body>
</html>
